<!doctype html>
<!-- http://stackoverflow.com/a/11846837/211160 -->
<!--[if lt IE 7]> <html lang="en" class="ie lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html lang="en" class="ie lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html lang="en" class="ie lt-ie9"> <![endif]-->
<!--[if gt IE 8]> <html lang="en" class="ie"> <![endif]-->
<html lang="en"><head>
	<meta charset="utf-8"> 

	<title>USCII Decoder Demo</title> 
<!--
    encode.html - Encode ASCII strings to USCII-5x7-ENGLISH-C0
    Copyright (C) 2009-2014 HostileFork.com

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>

	<!-- Table generated by Rebol script -->
	<script src="../build/uscii-5x7-english-c0.js" type="text/javascript"></script>
	
	<!-- Encoding and decoding shared routines -->
	<script src="js/arecibo-ascii.js" type="text/javascript"></script>
	
	<!-- Main UI logic for this page -->
	<script src="js/decode.js" type="text/javascript"></script>

	<link href="css/demo.css" rel="stylesheet" type="text/css" />

</head><body>
	<div id="body">
		<!-- HEADER DIV -->
		<div id="header">
			<img src="images/uscii_logo_400x160.png" alt="USCII logo 400x160" />
		</div>
		
		<!-- NAVIGATION DIV -->
		<div id="nav">
			<!-- skiplink anchor: navigation -->
			<a id="navigation"></a>
			<div class="hlist">
				<!-- main navigation: horizontal list -->
				<ul>
				  <li><a href="encode.html">encode</a></li>
				  <li class="active"><strong>decode</strong></li>
				  <li><a href="http://uscii.hostilefork.com/">specification</a></li>
				  <li><a href="https://github.com/hostilefork/uscii/blob/master/CREDITS.md">credits</a></li>
				</ul>
			</div>
		</div>
		
		<!-- MAIN DIV -->
		<div id="main">
						
			<!-- CONVERTER FORM -->
			<!-- rows and cols should be overridden by styles, if applied -->
			<!-- Why not 100%, you ask?  Because IE7 chokes on it and hides the left section.  Garbage browser. -->
			<textarea id="mystring" name="mystring" rows="8" cols= "50" style="width: 99%; height: 80px;"></textarea>

			<div id="loader_container" style="display: none;">
				<img src="images/ajax-loader.gif" alt="Loading...">
			</div>

			<div id="message_container">
				<div id="message_default" class="info">
					<p>This is a decoder for information encoded with USCII-5x7-ENGLISH-C0.  If you have data in this format (in hexadecimal), then paste it in the box above.</p>

					<p>If you don't have anything in this format, then you can <a href="encode.html">try the encoder</a> to generate something.  It also does a pretty good job of narrating the encoding process to explain what this is all about!</p>
				</div>

				<!-- hide result and error by default -->

				<div id="message_error" class="error" style="display: none;">
				</div>

				<div id="message" style="display: none;">
					<div class="success">
						<p>ASCII conversion is <span id="conversion_length"></span> characters long.</p>

						<div id="conversion_content"></div>
					</div>

					<h3>How did the decoding work?</h3>

					<p>Well, first let's look at what happens when we convert the hexadecimal to binary, and see what patterns we can notice.</p>

					<div id="binary_content"></div>

					<p>The binary format of your message started with seven chunks of 40-bit ranges of zero, and five 40-bit ranges of one at the tail.  You wouldn't necessarily notice the significance of the numbers five and seven from those series of bits alone.  However, it provides enough context to see that between this "silence" is a kind of structure, with blocks of 35 bits (which may be zero or one) interleaved with 5 bits that are zero.</p>

					<p>Setting up the context for realizing these gaps are significant is the fact that after the silence, a signal seems to be bookended by 5 solid 35-bit blocks at the beginning, and 7 solid 35-bit blocks at the end.  By this point, we might be cued that 35 is a semiprime number (product of two primes).  Thus we can see that the numbers 5 and 7 are supposed to be significant.</p>

					<p>If we consider those factors as dimensions of a rectangle, then we can convert the chunks between the solid blocks and what's between them into 5x7 bitmaps:</p>

					<div id="bitmaps_content"></div>

					<p>Ignoring the solid blocks (the "meter"), we can read the message even before we've converted it into ASCII!</p>

					<p>But being able to read it isn't the only requirement for a safe ASCII conversion.  The specific numbers must be looked up in a standard table, to produce the string.  In this case, all the numbers matched our table...so your message could be decoded.  It could thus also be drawn in a stroked vector font (for instance).</p>
				</div>
			</div>
		</div>
		
		<!-- FOOTER DIV  -->
		<div id="footer">
			<p>Based on <span id="spec-name">?</span></p>
			<p>Draft specification version <span id="spec-version">?</span> as of <span id="spec-date">?</span></p>
		</div>
	</div>
</body></html>
